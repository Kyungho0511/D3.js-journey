<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>load data and filter by quality</title>
  </head>
  <body>
    <script type="module">
      import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
      //YOUR ASSIGNMENT STARTS HERE:
      //use what you have learned so far to load the file of density and income data in the data folder in this chapter
      //file name is "density_income_ny_counties.csv"
      //see 03 for loading
      d3.csv("data/density_income_ny_counties.csv")
        .then((data) => {
          console.log(data);
          d3.select("body")
            .selectAll("p")
            .data(data)
            .enter()
            .append("p")
            .text((d) => d["Geo_NAME"])
            .style("color", (d) => {
              if (d["median_income"] > 65323) {
                return "red";
              } else {
                return "black";
              }
            });
        })
        .catch((error) => console.error(error));

      //make a paragraph for each county, and set the name of the county as its text
      //if the median income of the county is above the median income of new york state, turn the county name red

      //the median income for 2014 - 2018 period is $65,323
      //the key for the name of the county is "Geo_NAME"
      //the key for median income is "median_income"
    </script>
  </body>
</html>
